"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var report_constants_1=require("../../../constants/report.constants"),product_filter_object_1=require("../../../objects/product/product.filter.object"),ReportProductsFormComponent=function(){function ReportProductsFormComponent(categoryService,productService){this.categoryService=categoryService,this.productService=productService,this.getCategoriesFromServer()}return Object.defineProperty(ReportProductsFormComponent.prototype,"type",{get:function(){return report_constants_1.ReportConstants.TYPE_PRODUCTS},enumerable:!0,configurable:!0}),ReportProductsFormComponent.prototype.generate=function(){var _this=this;this.isGenerateInProcess=!0,this.productName=this.productName?this.productName:"";var filter=new product_filter_object_1.ProductFilterObject(this.productName,this.selectedCategory,!1);return this.getProductsFromServer(filter).then(function(data){return _this.isGenerateInProcess=!1,{data:data,settings:null}})},ReportProductsFormComponent.prototype.getCategoriesFromServer=function(){var _this=this;this.categoryService.getCategories().then(function(data){_this.categories=data})},ReportProductsFormComponent.prototype.getProductsFromServer=function(filter){return this.productService.getProducts(filter)},ReportProductsFormComponent.prototype.$onInit=function(){this.parent&&this.parent.registerFormCtrl(this)},ReportProductsFormComponent.prototype.$onDestroy=function(){},ReportProductsFormComponent}();exports.reportProductsFormComponent={controller:ReportProductsFormComponent,controllerAs:"vm",require:{parent:"^report"},templateUrl:"app/templates/reports/report.products.form.template.html"};