"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var alert_helper_1=require("../../../helpers/alert.helper"),category_object_1=require("../../../objects/category.object"),category_add_modal_component_1=require("../category/category.add.modal.component"),ProductBaseModalComponent=function(){function ProductBaseModalComponent($uibModalInstance,modalService,categoryService,toastService,product){var _this=this;this.$uibModalInstance=$uibModalInstance,this.modalService=modalService,this.categoryService=categoryService,this.toastService=toastService,this.product=product,this.product?(this.id=this.product.id,this.name=this.product.name,this.isDeleted=this.product.isDeleted):this.isDeleted=!1,this.getCategoriesFromServer().then(function(data){_this.product&&(_this.selectedCategory=_this.product.category)}),this.alertHelper=new alert_helper_1.AlertHelper}return ProductBaseModalComponent.prototype.createCategory=function(uiSelectController,categoryName){var _this=this,category=new category_object_1.CategoryObject(null,categoryName,!1),options=new category_add_modal_component_1.categoryAddModalComponent(category);return this.modalService.showModal(options).then(function(data){return data&&(_this.categories.push(data),_this.selectedCategory=data,uiSelectController.close(),_this.toastService.showSuccess("CREATED_SUCCESSFULLY","CATEGORY")),!0},function(error){return!1})},ProductBaseModalComponent.prototype.cancel=function(){this.$uibModalInstance.dismiss()},ProductBaseModalComponent.prototype.getCategoriesFromServer=function(){var _this=this;return this.categoryService.getCategories().then(function(data){return _this.categories=data})},ProductBaseModalComponent}();exports.ProductBaseModalComponent=ProductBaseModalComponent;var ProductBaseModalSettings=function(){return function(product){this.animation=!0,this.backdrop="static",this.controller=ProductBaseModalComponent,this.bindToController=!0,this.controllerAs="vm",this.templateUrl="app/templates/modals/product.modal.template.html",this.resolve={product:function(){return product}}}}();exports.ProductBaseModalSettings=ProductBaseModalSettings;