"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var chat_department_object_1=require("../objects/chat/chat.department.object"),request_object_1=require("../objects/request.object"),communication_constants_1=require("../constants/communication.constants"),ChatRoomService=function(){function ChatRoomService(communicationService){this.communicationService=communicationService}return ChatRoomService.prototype.getChatRooms=function(){var _this=this,reqObj=new request_object_1.RequestObject("ChatService:getChatRooms");return this.communicationService.sendRequest(communication_constants_1.CommunicationConstants.GET_CHAT_ROOMS,reqObj).then(function(srvMsg){return _this.deserializeArray(srvMsg.dbMsg)})},ChatRoomService.prototype.convert=function(serverDep){return serverDep?new chat_department_object_1.ChatDepartmentObject(serverDep.id,serverDep.name).deserialize():null},ChatRoomService.prototype.deserialize=function(dbMsg){return this.convert(dbMsg.data)},ChatRoomService.prototype.deserializeArray=function(dbMsg){var serverData=dbMsg&&dbMsg.data,chatDeps=[];if(serverData)for(var len=serverData.length,i=0;i<len;i++){var serverDep=serverData[i],clientDep=this.convert(serverDep);chatDeps.push(clientDep)}return chatDeps},ChatRoomService}();exports.ChatRoomService=ChatRoomService;