"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var credentials_object_1=require("../objects/credentials.object"),AuthenticationService=function(){function AuthenticationService(){}return Object.defineProperty(AuthenticationService.prototype,"credentials",{get:function(){return this._credentials},set:function(credentials){this._credentials=credentials},enumerable:!0,configurable:!0}),Object.defineProperty(AuthenticationService.prototype,"user",{get:function(){return this._credentials?this._credentials.user:null},enumerable:!0,configurable:!0}),Object.defineProperty(AuthenticationService.prototype,"username",{get:function(){return this._credentials&&this._credentials.user?this._credentials.user.username:""},enumerable:!0,configurable:!0}),AuthenticationService.prototype.convert=function(serverCredentials){return serverCredentials?new credentials_object_1.CredentialsObject(serverCredentials.sessionId,serverCredentials.user,serverCredentials.accessToken).deserialize():null},AuthenticationService.prototype.deserialize=function(dbMsg){return this.convert(dbMsg.data)},AuthenticationService.prototype.deserializeArray=function(dbMsg){var serverData=dbMsg.data,credentials=[];if(serverData)for(var len=serverData.length,i=0;i<len;i++){var serverCred=serverData[i],clientCred=this.convert(serverCred);credentials.push(clientCred)}return credentials},AuthenticationService}();exports.AuthenticationService=AuthenticationService;